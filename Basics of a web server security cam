#update pi

sudo apt-get update
sudo apt-get upgrade

#remove these files

sudo apt-get remove libavcodec-extra-56 libavformat56 libavresample2 libavutil54

download these packages

wget https://github.com/ccrisan/motioneye/wiki/precompiled/ffmpeg_3.1.1-1_armhf.deb
sudo dpkg -i ffmpeg_3.1.1-1_armhf.deb

sudo apt-get install curl libssl-dev libcurl4-openssl-dev libjpeg-dev libx264-142 libavcodec56 libavformat56 libmysqlclient18 libswscale3 libpq5

wget https://github.com/Motion-Project/motion/releases/download/release-4.0.1/pi_jessie_motion_4.0.1-1_armhf.deb
sudo dpkg -i pi_jessie_motion_4.0.1-1_armhf.deb

#now edit this file with the following chnges

sudo nano /etc/motion/motion.conf
#change
daemon on
stream_localhost off
output_pictures off
ffmpeg_output_movies off
stream_maxrate 100 #This will allow for real-time streaming but requires more bandwidth & resources
framerate 100 #This will allow for 100 frames to be captured per second allowing for smoother video
width 640 #This changes the width of the image displayed
height 480 #This changes the height of the image displayed

#then change 
sudo nano /etc/default/motion
#to say 
start_motion_daemon=yes

#last, start the B**** up
sudo service motion start
#you can change the command to "stop", or "restart"
